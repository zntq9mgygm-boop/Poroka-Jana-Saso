<!DOCTYPE html>
<html lang="sl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RSVP Poroka Jana & Sašo</title>
<style>
body { font-family: Arial,sans-serif; background:#f8f6f2; display:flex; justify-content:center; align-items:center; min-height:100vh; margin:0; }
.card { background:white; padding:30px; border-radius:20px; box-shadow:0 10px 30px rgba(0,0,0,0.1); width:100%; max-width:500px; }
h1,h2 { text-align:center; }
button { padding:10px 15px; border:none; border-radius:10px; background:black; color:white; cursor:pointer; width:100%; margin-top:15px; }
input, select { width:100%; padding:8px; margin:5px 0 10px 0; border-radius:8px; border:1px solid #ccc; }
.hidden { display:none; }
.menu-select { margin-bottom:10px; }
</style>
</head>
<body>
<div class="card">

<div id="step1">
<h1>Potrditev udeležbe</h1>
<label>Ime in priimek</label>
<input type="text" id="name">
<button onclick="attend(true)">Se udeležim</button>
<button onclick="attend(false)" style="background:#777;margin-top:10px">Ne pridem</button>
</div>

<div id="step2" class="hidden">
<h2>Koliko oseb pride?</h2>
<label>Odrasli</label>
<input type="number" id="adults" min="1" value="1">
<label>Otroci</label>
<input type="number" id="children" min="0" value="0">
<button onclick="goToMenus()">Nadaljuj</button>
</div>

<div id="step3" class="hidden">
<h2>Izberi meni za odrasle</h2>
<div id="menuOptions"></div>
<button onclick="submitForm()">Potrdi</button>
</div>

<div id="step4" class="hidden">
<h2>Hvala za odgovor ❤️</h2>
<p id="finalMessage"></p>
</div>

</div>

<script>
let attendance=false;

function attend(value){
attendance=value;
if(!document.getElementById('name').value){alert('Vpišite ime'); return;}
if(value){
document.getElementById('step1').classList.add('hidden');
document.getElementById('step2').classList.remove('hidden');
} else {
document.getElementById('step1').classList.add('hidden');
document.getElementById('step4').classList.remove('hidden');
document.getElementById('finalMessage').innerText='Žal nama je, da vas ne bo.';
sendData();
}
}

function goToMenus(){
let adults=parseInt(document.getElementById('adults').value);
if(adults<1){alert('Vsaj 1 odrasla oseba'); return;}
let container=document.getElementById('menuOptions');
container.innerHTML='';
for(let i=1;i<=adults;i++){
let select=document.createElement('select');
select.className='menu-select';
select.id='adultMenu'+i;
let optionDefault=document.createElement('option');
optionDefault.value='';
optionDefault.innerText='Izberi meni za odraslega '+i;
optionDefault.disabled=true;
optionDefault.selected=true;
select.appendChild(optionDefault);
['Mesni','Ribji','Vegetarijanski'].forEach(menu=>{
let opt=document.createElement('option');
opt.value=menu;
opt.innerText=menu;
select.appendChild(opt);
});
container.appendChild(select);
}
document.getElementById('step2').classList.add('hidden');
document.getElementById('step3').classList.remove('hidden');
}

function submitForm(){
let adults=parseInt(document.getElementById('adults').value);
let menus=[];
for(let i=1;i<=adults;i++){
let val=document.getElementById('adultMenu'+i).value;
if(!val){alert('Izberi meni za vsakega odraslega'); return;}
menus.push(val);
}
let children=parseInt(document.getElementById('children').value);

document.getElementById('step3').classList.add('hidden');
document.getElementById('step4').classList.remove('hidden');
document.getElementById('finalMessage').innerText='Veseliva se vaše udeležbe.';

sendData({
name:document.getElementById('name').value,
attendance:attendance,
adults:adults,
children:children,
menus:menus
});
}

function sendData(data){
/* Tu lahko dodaš kodo za pošiljanje podatkov na Google Sheet ali server */
console.log('Podatki poslani:', data);
}
</script>

</body>
</html>
